<details class="artifact" data-controller="popover" data-action="popover#loadFrame" data-results-table-target="popover">
  <summary title="<%= attachment.filename %>"><%= artifact_icon(attachment) %></summary>
  <div class="artifact__content">
    <header class="artifact__header">
      <div class="artifact__header-text">
        <% if local_assigns[:probe_result] %>
          <div class="artifact__probe"><%= probe_type_icon(probe_result.probe_type) %> <%= probe_result.probe_name %></div>
          <% if probe_result.probe_target.present? %>
            <div class="artifact__probe-target"><%= probe_result.probe_target %></div>
          <% end %>
          <div class="artifact__probe-time" title="<%= probe_result.created_at.to_fs(:db) %>"><%= time_ago_in_words(probe_result.created_at) %> ago</div>
        <% end %>
        <h3 class="artifact__title"><%= artifact_icon(attachment) %> <%= attachment.filename %></h3>
      </div>
      <button type="button" class="artifact__close" data-action="popover#close" aria-label="Close">Ã—</button>
    </header>
    <div class="artifact__body">
      <%= turbo_frame_tag dom_id(attachment), src: upright.site_artifact_path(attachment), loading: :lazy, data: { popover_target: "frame" } %>
    </div>
  </div>
</details>
