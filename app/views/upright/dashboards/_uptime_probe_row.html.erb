<div class="uptime-bars__row">
  <%= link_to upright.site_root_url(subdomain: Upright.sites.first.code, probe_type: probe.type, probe_name: probe.name), class: "uptime-bars__probe" do %>
    <%= probe_type_icon(probe.type) %>
    <span class="probe__name"><%= probe.name %></span>
  <% end %>
  <div class="uptime-bars__days">
    <% dates.each do |date| %>
      <% uptime = probe.uptime_for_date(date) %>
      <% if uptime.nil? %>
        <div class="uptime-bar uptime-bar--no-data" title="<%= date.strftime("%b %-d") %>: No data"></div>
      <% else %>
        <% uptime_percent = uptime * 100 %>
        <% downtime_minutes = ((1 - uptime) * 24 * 60).round %>
        <div class="uptime-bar <%= uptime_bar_class(uptime_percent) %>"
             title="<%= uptime_bar_tooltip(date, uptime_percent, downtime_minutes) %>"></div>
      <% end %>
    <% end %>
  </div>
  <div class="uptime-bars__uptime <%= uptime_color_class(probe.overall_uptime) %>">
    <%= number_with_precision(probe.overall_uptime, precision: 2) %>%
  </div>
</div>
